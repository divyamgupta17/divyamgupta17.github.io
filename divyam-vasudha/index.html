<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Environmental and Sustainability</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            text-align: justify; /* Global text alignment */
        }
        header {
            background-color: #0b9e3a;
            color: white;
            padding: 1em;
            text-align: center;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-sizing: border-box;
            flex-wrap: wrap; /* Ensure content wraps on small screens */
        }
        .header-title {
            flex: 1;
        }
        .aqi-info {
            background: #0b9e3a; /* Same color as the header */
            color: white;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
            padding: 10px;
            max-width: 250px;
            text-align: center;
            height: auto; /* Allow height to adjust automatically */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0; /* Start hidden for animation */
            animation: fadeIn 2s forwards; /* Animation for the AQI container */
        }
        .aqi-info h2 {
            margin: 0;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center; /* Center align the text and AQI value */
        }
        .aqi-info .aqi-value {
            font-size: 24px;
            font-weight: bold;
            margin-left: 10px;
        }
        .aqi-info p {
            font-size: 12px;
            margin: 5px 0;
        }
        nav {
            display: flex;
            justify-content: center;
            background-color: #333;
            flex-wrap: wrap;
        }
        nav a {
            color: white;
            padding: 14px 20px;
            text-decoration: none;
            text-align: center;
        }
        nav a:hover {
            background-color: #ddd;
            color: black;
        }
        .carousel-container {
            position: relative;
            width: 100%;
            height: 300px;
            overflow: hidden;
            background-color: #ddd;
        }
        .carousel {
            display: flex;
            width: calc(200% + 10px);
            animation: scroll 30s linear infinite;
        }
        .carousel img {
            width: 500px;
            height: 300px;
            flex-shrink: 0;
        }
        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        main {
            padding: 1em;
            font-size: 18px; /* Adjust font size as needed */
        }
        footer {
            background-color: #0b9e3a;
            color: white;
            text-align: center;
            padding: 1em 0;
        }
        .content {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 1s forwards;
        }
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        @media (max-width: 1200px) {
            .carousel img {
                width: 80%;
            }
        }
        @media (max-width: 992px) {
            .carousel img {
                width: 70%;
            }
        }
        @media (max-width: 768px) {
            nav a {
                padding: 10px 15px;
            }
            .carousel img {
                width: 60%;
            }
        }
        @media (max-width: 576px) {
            nav {
                flex-direction: column;
                display: none; /* Hide nav by default on small screens */
            }
            .carousel-container {
                height: 200px;
            }
            .carousel img {
                width: 50%;
            }
            main {
                padding: 0.5em;
                font-size: 16px;
            }
            .header-title {
                text-align: center;
                flex: 1;
            }
            .aqi-info {
                max-width: 90%; /* Adjust width to fit mobile view */
                margin: 0 auto; /* Center align on mobile */
                font-size: 14px; /* Adjust font size for readability on mobile */
            }
            .aqi-info h2 {
                font-size: 14px; /* Adjust font size for readability on mobile */
            }
            .aqi-info .aqi-value {
                font-size: 18px; /* Adjust font size for readability on mobile */
                margin-left: 5px;
            }
            /* Hide location on small screens */
            .aqi-info p#location {
                display: none;
            }
        }
        @media (min-width: 577px) {
            .aqi-info p#location {
                display: block;
            }
        }
        @media (max-width: 400px) {
            .carousel img {
                width: 100%;
            }
            main {
                padding: 0.5em;
                font-size: 14px;
            }
        }
        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            margin: 1em;
        }
        .hamburger div {
            width: 25px;
            height: 3px;
            background-color: black;
            margin: 4px 0;
        }
        @media (max-width: 576px) {
            .hamburger {
                display: flex;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-title">
            <h1>ENVIRONMENT AND SUSTAINABILITY</h1>
        </div>
        <div class="aqi-info" id="aqi-container">
            <h2>Current AQI<span id="aqi-value" class="aqi-value">Loading...</span></h2>
            <p id="location">Fetching location...</p>
        </div>
    </header>
    <div class="hamburger" onclick="toggleNav()">
        <div></div>
        <div></div>
        <div></div>
    </div>
    <nav id="nav">
        <a href="index.html">Home</a>
        <a href="climate_change.html">Climate Change</a>
        <a href="causes.html">Causes</a>
        <a href="effects.html">Effects</a>
        <a href="solutions.html">Solutions</a>
        <a href="facts.html">Facts</a>
        <a href="climateSurvey.html">Survey</a>
        <a href="calculator.html">Calculator</a>
 	<a href="game2.html">Fun Games</a>

    </nav>
    <div class="carousel-container">
        <div class="carousel">
            <img src="image1.jpg" alt="Image 1">
            <img src="image2.jpg" alt="Image 2">  
            <img src="image3.jpg" alt="Image 3">
            <img src="image4.jpg" alt="Image 4">
            <img src="image5.jpg" alt="Image 5">
            <img src="image1.jpg" alt="Image 1">
            <img src="image2.jpg" alt="Image 2">  
            <img src="image3.jpg" alt="Image 3">
            <img src="image4.jpg" alt="Image 4">
            <img src="image5.jpg" alt="Image 5">
        </div>
    </div>
    <main>
        <div class="content">
            <h2>Welcome</h2>
            <p>The environment encompasses all living and non-living things occurring naturally on Earth. It is a complex and dynamic system that includes air, water, land, plants, and animals. The delicate balance of these elements supports life on our planet. However, human activities have increasingly disrupted this balance, leading to significant environmental challenges.</p>
            <p>Sustainability refers to meeting our present needs without compromising the ability of future generations to meet theirs. It emphasizes the responsible management of resources to ensure long-term ecological health and stability. Achieving sustainability involves a harmonious relationship between economic growth, environmental protection, and social well-being.</p>
            <p>One of the most pressing environmental issues is climate change, driven by the accumulation of greenhouse gases like carbon dioxide in the atmosphere. These gases trap heat, leading to global warming and altering weather patterns. The consequences are severe: rising sea levels, more frequent and intense natural disasters, loss of biodiversity, and adverse impacts on agriculture and human health.</p>
        </div>
    </main>
    <footer>
        &copy; 2024 Environmental and Sustainability. All rights reserved.
    </footer>
    <script>
        function toggleNav() {
            const nav = document.getElementById('nav');
            if (nav.style.display === 'flex') {
                nav.style.display = 'none';
            } else {
                nav.style.display = 'flex';
            }
        }

        async function fetchAQI(lat, lon) {
            try {
                const response = await fetch('https://api.waqi.info/feed/geo:'+lat+';'+lon+'/?token=69fb229f85828f9b84705df08fde716ef7a423a9');
                const data = await response.json();

                if (data && data.data) {
                    const aqi = data.data.aqi;
                    const cityName = data.data.city.name || 'Unknown City';

                    document.getElementById('aqi-value').textContent = aqi !== undefined ? aqi : 'Data Not Available';
                    document.getElementById('location').textContent = `Location: ${cityName}`;
                } else {
                    document.getElementById('aqi-value').textContent = 'Data Not Available';
                }
            } catch (error) {
                console.error('Error fetching AQI data:', error);
                document.getElementById('location').textContent = 'Location: Error';
                document.getElementById('aqi-value').textContent = 'Error';
            }
        }

        function handleLocationSuccess(position) {
            const lat = position.coords.latitude;
            const lon = position.coords.longitude;
            fetchAQI(lat, lon);
        }

        function handleLocationError() {
            document.getElementById('location').textContent = 'Unable to retrieve location.';
            document.getElementById('aqi-value').textContent = 'Data Not Available';
        }

        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(handleLocationSuccess, handleLocationError);
        } else {
            document.getElementById('location').textContent = 'Geolocation is not supported by this browser.';
            document.getElementById('aqi-value').textContent = 'Data Not Available';
        }
    </script>
</body>
</html>
